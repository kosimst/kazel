export default class KazelList extends Array{constructor(e,...t){return e.isConfig?(super(...t),this.ready=e.ready||!1):(super(e,...t),e={returnReducedValues:!0}),new Proxy(this,{get(t,r){if(r in Array.prototype)return"function"==typeof Array.prototype[r]?Array.prototype[r].bind(t):t[r];if(r in HTMLElement.prototype)try{if("function"==typeof HTMLElement.prototype[r])return(...n)=>{const o=t.map(e=>(n=n.map(e=>e instanceof HTMLElement?e.cloneNode(!0):e&&e.wholeText?document.createTextNode(e.wholeText):e),e[r](...n)));return e.returnReducedValues?o.reduce((e,t)=>e&&t):o}}catch(n){if(n instanceof TypeError){let n;switch(n=t.length>1?t.map(e=>e[r]).reduce((e,t)=>{if(!e&&0!==e.length&&!1!==e||e!==typeof t&&typeof e!=typeof t)throw new Error("Property types do not match");return typeof t}):t[0]&&t[0][r]&&typeof t[0][r]){case"function":return new Proxy({},{get:(n,o)=>(...n)=>{const a=t.map(e=>e[r][o](...n));if(a&&a.reduce)return e.returnReducedValues?a.reduce((e,t)=>e&&t):a},set(e,n,o){t.forEach(e=>e[r][n]=o)}});case"object":switch(r){case"firstChild":case"lastChild":case"lastElementChild":case"firstElementChild":case"nextElementSibling":case"nextSibling":case"previousElementSibling":case"previousSibling":case"parentNode":case"parentElement":{const e=t.map(e=>e[r]);return e.every((e,t,r)=>!r[t-1]||e===r[t-1])?e[0]:new KazelList(...Array.prototype.concat(...e))}case"childNodes":case"children":return new KazelList(...Array.prototype.concat(...t.map(e=>[...e[r]])).filter((e,t,r)=>r.indexOf(e)===t));default:return new Proxy(Array.prototype.concat(...t.map(e=>e[r])),{get:(n,o)=>n[o]?n[o]:t.map(e=>e[r][o]).reduce((e,t)=>e&&"function"==typeof t)?(...n)=>{const a=t.map(e=>e[r][o](...n));return e.returnReducedValues?a.reduce((e,t)=>e&&t):a}:void 0})}case"string":case"number":case"boolean":return Array.from(t.map(e=>e[r]))}}}else if(r in t)return t[r]},set:(e,t,r)=>(t in HTMLElement.prototype&&e.forEach(e=>e[t]=r),r)})}};